{% extends 'menu/base.html' %}
{% block content %}
<h2 class="mb-4" style="color: #A0522D;">Dishes</h2>
<a href="{% url 'dish_create' %}" class="btn mb-3" style="background-color: #A0522D; color: white;">Add New Dish</a>

<div class="row">
    {% for dish in dishes %}
    <div class="col-md-4">
        <div class="card mb-3 shadow-sm border-0" style="background-color: #F5DEB3; border-radius: 12px; display: flex; flex-direction: row; height: 180px;">
            <div class="card-body d-flex flex-column justify-content-center" style="flex: 1; overflow: hidden;">
                <h5 class="card-title text-truncate mb-1" style="color: #2E2E2E;">{{ dish.name }}</h5>
                <p class="card-text text-truncate mb-2" style="color: #2E2E2E;">{{ dish.description }}</p>
                <p class="mb-1"><strong style="color: #DAA520;">{{ dish.price }} TND</strong></p>
                <p><span class="badge" style="background-color: #A0522D; color: #FFFDF7;">{{ dish.category.name }}</span></p>
                <div>
                    <a href="{% url 'dish_edit' dish.pk %}" class="me-2" title="Edit">
                        <i class="bi bi-pencil-square" style="color: #A0522D; font-size: 1.2rem;"></i>
                    </a>
                    <a href="{% url 'dish_delete' dish.pk %}" title="Delete">
                        <i class="bi bi-trash-fill" style="color: #8B0000; font-size: 1.2rem;"></i>
                    </a>
                </div>
            </div>
            {% if dish.image %}
            <img src="{{ dish.image.url }}" alt="{{ dish.name }}" style="width: 150px; height: 180px; object-fit: cover; border-top-right-radius: 12px; border-bottom-right-radius: 12px;">
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
